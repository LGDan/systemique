{
	# Disable admin API for security
	admin off
	# Run as non-root user
	auto_https off
}

:8080 {
	# Root directory
	root * /usr/share/caddy
	file_server

	# SPA routing - try files, then fallback to index.html
	try_files {path} /index.html

	# Gzip compression
	encode gzip

	# Cache static assets
	@static {
		path *.js *.css *.png *.jpg *.jpeg *.gif *.ico *.svg *.woff *.woff2 *.ttf *.eot
	}
	header @static {
		Cache-Control "public, max-age=31536000, immutable"
	}

	# Security headers
	header {
		X-Frame-Options "SAMEORIGIN"
		X-Content-Type-Options "nosniff"
		X-XSS-Protection "1; mode=block"
	}

	# Logging
	log {
		output stdout
		format console
	}
}
